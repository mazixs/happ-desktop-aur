# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã cap_net_admin

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

AppImage —Ñ–æ—Ä–º–∞—Ç –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Linux capabilities –Ω–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–∑–∞. –ö–æ–≥–¥–∞ Happ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ sing-box –∏–ª–∏ xray, –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π `cap_net_admin`.

### –ü–æ—á–µ–º—É AppImage –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **–ò–∑–æ–ª—è—Ü–∏—è**: AppImage –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ FUSE filesystem –≤ read-only —Ä–µ–∂–∏–º–µ
2. **Capabilities –Ω–∞ FUSE**: Linux –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç extended attributes (–≤ —Ç.—á. capabilities) –Ω–∞ FUSE
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –Ø–¥—Ä–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç capabilities –Ω–∞ —Ñ–∞–π–ª–∞—Ö –∏–∑ –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–π

### –ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

```
ERROR: Failed to create TUN interface: operation not permitted
ERROR: sing-box: create tun: operation not permitted
ERROR: xray: failed to create tun device: permission denied
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ù–∞—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ù–∞—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ `/opt/happ/` –ø–æ–∑–≤–æ–ª—è–µ—Ç:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å capabilities –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã
2. –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Linux capabilities (–±–µ–∑ sudo/suid)
3. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–∏—Å—Ç–µ–º–æ–π

### –ß—Ç–æ —Ç–∞–∫–æ–µ cap_net_admin?

`CAP_NET_ADMIN` - —ç—Ç–æ Linux capability, –¥–∞—é—â–∞—è –ø—Ä–æ—Ü–µ—Å—Å—É –ø—Ä–∞–≤–∞ –Ω–∞:

- ‚úì –°–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (TUN/TAP)
- ‚úì –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP –∞–¥—Ä–µ—Å–æ–≤ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
- ‚úì –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- ‚úì –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall –ø—Ä–∞–≤–∏–ª (–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –æ–±—ä–µ–º–µ)
- ‚úì –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞

**–í–∞–∂–Ω–æ**: –≠—Ç–æ –ù–ï root –ø—Ä–∞–≤–∞, –∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Capabilities vs SUID

| –ü–∞—Ä–∞–º–µ—Ç—Ä | SUID (—Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±) | Capabilities (–Ω–∞—à —Å–ø–æ—Å–æ–±) |
|----------|---------------------|--------------------------|
| –ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏ | –í—Å–µ –ø—Ä–∞–≤–∞ root | –¢–æ–ª—å–∫–æ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–∞–≤–∞ |
| –†–∏—Å–∫ | –í—ã—Å–æ–∫–∏–π (–ø–æ–ª–Ω—ã–π root) | –ù–∏–∑–∫–∏–π (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π) |
| –ê—É–¥–∏—Ç | –°–ª–æ–∂–Ω—ã–π | –ü—Ä–æ—Å—Ç–æ–π |
| –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å | –£—Å—Ç–∞—Ä–µ–≤—à–∏–π | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π |

### –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –ø–æ–ª—É—á–∞—é—Ç capabilities?

–¢–æ–ª—å–∫–æ –¥–≤–∞ VPN —è–¥—Ä–∞:
- `/opt/happ/tun/sing-box` ‚Üí `cap_net_admin+ep`
- `/opt/happ/core/xray` ‚Üí `cap_net_admin+ep`

**–ù–ï –ø–æ–ª—É—á–∞—é—Ç** capabilities:
- `/opt/happ/Happ` (GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- `/opt/happ/antifilter/antifilter`
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ø—Ä–æ—á–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –§–æ—Ä–º–∞—Ç capabilities: +ep

- `e` (effective) - capability –∞–∫—Ç–∏–≤–Ω–∞ —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- `p` (permitted) - –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å capability
- `+` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ capability

–ü–æ–ª–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: `cap_net_admin+ep` = "—Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å cap_net_admin"

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ capabilities

### –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö capabilities

```bash
# –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
getcap /opt/happ/tun/sing-box
# –í—ã–≤–æ–¥: /opt/happ/tun/sing-box cap_net_admin=ep

# –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ —Å capabilities
getcap -r /opt/happ/
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å sing-box –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ capabilities
/opt/happ/tun/sing-box version &
SINGBOX_PID=$!

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å capabilities –ø—Ä–æ—Ü–µ—Å—Å–∞
grep Cap /proc/$SINGBOX_PID/status

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤ human-readable —Ñ–æ—Ä–º–∞—Ç
capsh --decode=$(grep CapEff /proc/$SINGBOX_PID/status | awk '{print $2}')

kill $SINGBOX_PID
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è TUN

```bash
# –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —á–µ—Ä–µ–∑ sing-box
# (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥)
sudo -u $USER /opt/happ/tun/sing-box run -c /path/to/config.json

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
ip link show | grep tun
ip addr show tun0
```

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ capabilities –≤—Ä—É—á–Ω—É—é

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –î–æ–±–∞–≤–∏—Ç—å capability
sudo setcap 'cap_net_admin+ep' /opt/happ/tun/sing-box

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
getcap /opt/happ/tun/sing-box
```

### –£–¥–∞–ª–µ–Ω–∏–µ

```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ capabilities —Å —Ñ–∞–π–ª–∞
sudo setcap -r /opt/happ/tun/sing-box

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å (–≤—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
getcap /opt/happ/tun/sing-box
```

### –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ capabilities –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è!

```bash
# Capabilities –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è
cp /opt/happ/tun/sing-box /tmp/sing-box
getcap /tmp/sing-box  # –ü—É—Å—Ç–æ!

# –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º attributes
cp --preserve=all /opt/happ/tun/sing-box /tmp/sing-box
# –ò–ª–∏
rsync -aX /opt/happ/tun/sing-box /tmp/sing-box
```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

### 1. SUID bit (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π)

```bash
# –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö
chmod u+s /opt/happ/tun/sing-box  # –î–∞—ë—Ç –ø–æ–ª–Ω—ã–µ root –ø—Ä–∞–≤–∞!
```

‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- –§–∞–π–ª –ø–æ–ª—É—á–∞–µ—Ç –í–°–ï –ø—Ä–∞–≤–∞ root
- –û–≥—Ä–æ–º–Ω–∞—è –¥—ã—Ä–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥

### 2. sudo/pkexec (–Ω–µ—É–¥–æ–±–Ω—ã–π)

```bash
# –¢—Ä–µ–±—É–µ—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å
sudo /opt/happ/tun/sing-box run
```

‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- –ù—É–∂–µ–Ω –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
- –ù–µ—É–¥–æ–±–Ω–æ –¥–ª—è GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –î–∞—ë—Ç –±–æ–ª—å—à–µ –ø—Ä–∞–≤ —á–µ–º –Ω—É–∂–Ω–æ

### 3. systemd service —Å User=root (–∏–∑–ª–∏—à–Ω–∏–π)

‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç root
- –°–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4. AppArmor/SELinux –ø—Ä–æ—Ñ–∏–ª–∏ (—Å–ª–æ–∂–Ω—ã–π)

‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- –¢—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–æ–¥ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ
- Capabilities –ø—Ä–æ—â–µ

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –£–¥–æ–±—Å—Ç–≤–æ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-------|--------------|----------|-----------|--------------|
| **Capabilities** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º |
| SUID | ‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚ùå –£—Å—Ç–∞—Ä–µ–ª |
| sudo | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚ùå –ù–µ—É–¥–æ–±–Ω–æ |
| systemd+root | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚ùå –ò–∑–ª–∏—à–Ω–µ |
| MAC (AppArmor) | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚ùå –°–ª–æ–∂–Ω–æ |

## üêõ –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: operation not permitted
Failed to create TUN interface
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å capabilities
getcap /opt/happ/tun/sing-box

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª—å tun
lsmod | grep tun

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ /dev/net/tun
ls -l /dev/net/tun
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å capabilities
sudo setcap 'cap_net_admin+ep' /opt/happ/tun/sing-box
sudo setcap 'cap_net_admin+ep' /opt/happ/core/xray

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å tun
sudo modprobe tun

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
./test-capabilities.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: Capabilities –ø—Ä–æ–ø–∞–ª–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç extended attributes.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ FS:**
```bash
mount | grep " / "
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å ext4, xfs, btrfs –∏ —Ç.–¥.
# –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: vfat, exfat, ntfs
```

**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç:
```bash
sudo pacman -R happ-desktop
makepkg -si --cleanbuild
```

### –ü—Ä–æ–±–ª–µ–º–∞: "No such capability" –ø—Ä–∏ setcap

**–ü—Ä–∏—á–∏–Ω–∞**: –£—Å—Ç–∞—Ä–µ–≤—à–µ–µ —è–¥—Ä–æ –∏–ª–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è capabilities.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –í–µ—Ä—Å–∏—è —è–¥—Ä–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å >= 2.6.24)
uname -r

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ —è–¥—Ä–µ
zcat /proc/config.gz | grep CONFIG_SECURITY_CAPABILITIES
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: CONFIG_SECURITY_CAPABILITIES=y
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Linux

- [capabilities(7) man page](https://man7.org/linux/man-pages/man7/capabilities.7.html)
- [getcap(8) man page](https://man7.org/linux/man-pages/man8/getcap.8.html)
- [setcap(8) man page](https://man7.org/linux/man-pages/man8/setcap.8.html)

### –°—Ç–∞—Ç—å–∏

- [Linux Capabilities: making them work](https://www.kernel.org/doc/ols/2008/ols2008v1-pages-163-172.pdf)
- [Understanding Linux Capabilities](https://blog.container-solutions.com/linux-capabilities-why-they-exist-and-how-they-work)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å capabilities
sudo pacman -S libcap

# –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
getcap    # –ü—Ä–æ—Å–º–æ—Ç—Ä capabilities
setcap    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ capabilities
capsh     # –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ capabilities –≤ human-readable
getpcaps  # –ü—Ä–æ—Å–º–æ—Ç—Ä capabilities –ø—Ä–æ—Ü–µ—Å—Å–∞
```

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å `cap_net_admin` capabilities –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  
‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω–∞—è —Ä–∞–±–æ—Ç–∞ TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ  
‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—Å—Ç—å** - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Linux  

–≠—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è VPN –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Linux —Å–∏—Å—Ç–µ–º–∞—Ö.
